(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(module,exports,__webpack_require__){__webpack_require__(157),__webpack_require__(237),module.exports=__webpack_require__(238)},238:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(18),__webpack_require__(16);var _storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63),req=__webpack_require__(357);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(116)(module))},357:function(module,exports,__webpack_require__){var map={"./stories/test.stories.tsx":358};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=357},358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(154),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63),_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(66),store=new _sambego_storybook_state__WEBPACK_IMPORTED_MODULE_3__.Store({active:[!0,!0,!1,!0,!0]}),TestButton=function(_a){var disabled=_a.disabled,children=_a.children,onClick=_a.onClick,id=react__WEBPACK_IMPORTED_MODULE_1___default.a.useRef(Object(lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)()),ref=react__WEBPACK_IMPORTED_MODULE_1___default.a.useRef(null),_b=Object(___WEBPACK_IMPORTED_MODULE_4__.c)(ref,disabled),tabIndex=_b[0],focused=_b[1],handleKeyDown=_b[2],handleClick=_b[3];return Object(___WEBPACK_IMPORTED_MODULE_4__.b)(focused,ref),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{ref:ref,id:id.current,onKeyDown:handleKeyDown,onClick:function(){handleClick(),onClick()},tabIndex:tabIndex,disabled:disabled},children)};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Button",module).add("Text",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_3__.State,{store:store},function(state){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(___WEBPACK_IMPORTED_MODULE_4__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TestButton,{disabled:!state.active[0],onClick:function(){return window.alert("Button One clicked")}},"Button One")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TestButton,{disabled:!state.active[1],onClick:function(){return window.alert("Button Two clicked")}},"Button Two"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TestButton,{disabled:!state.active[2],onClick:function(){return window.alert("Button Three clicked")}},"Button Three"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TestButton,{disabled:!state.active[3],onClick:function(){return window.alert("Button Four clicked")}},"Button Four"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TestButton,{disabled:!state.active[4],onClick:function(){return window.alert("Button Five clicked")}},"Button Five")))})})}.call(this,__webpack_require__(116)(module))},66:function(module,__webpack_exports__,__webpack_require__){"use strict";var ActionTypes,array_find_index=__webpack_require__(64),array_find_index_default=__webpack_require__.n(array_find_index),react=__webpack_require__(0),react_default=__webpack_require__.n(react),warning=__webpack_require__(65),warning_default=__webpack_require__.n(warning),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},DOCUMENT_POSITION_PRECEDING=2;function reducer(state,action){switch(action.type){case ActionTypes.REGISTER:var newTabStop_1=action.payload;if(0===state.tabStops.length)return __assign({},state,{selectedId:newTabStop_1.id,tabStops:[newTabStop_1]});if((index=array_find_index_default()(state.tabStops,function(tabStop){return tabStop.id===newTabStop_1.id}))>=0)return warning_default()(!1,newTabStop_1.id+" tab stop already registered"),state;var indexAfter=array_find_index_default()(state.tabStops,function(tabStop){return!!(tabStop.domElementRef.current.compareDocumentPosition(newTabStop_1.domElementRef.current)&DOCUMENT_POSITION_PRECEDING)});return __assign({},state,{tabStops:state.tabStops.slice(0,indexAfter).concat([newTabStop_1],state.tabStops.slice(indexAfter))});case ActionTypes.UNREGISTER:var id_1=action.payload.id,tabStops=state.tabStops.filter(function(tabStop){return tabStop.id!==id_1});return tabStops.length===state.tabStops.length?(warning_default()(!1,id_1+" tab stop already unregistered"),state):__assign({},state,{selectedId:state.selectedId===id_1?0===tabStops.length?null:tabStops[0].id:state.selectedId,tabStops:tabStops});case ActionTypes.TAB_TO_PREVIOUS:case ActionTypes.TAB_TO_NEXT:var index,id_2=action.payload.id;if(-1===(index=array_find_index_default()(state.tabStops,function(tabStop){return tabStop.id===id_2})))return warning_default()(!1,id_2+" tab stop not registered"),state;var newIndex=action.type===ActionTypes.TAB_TO_PREVIOUS?index<=0?state.tabStops.length-1:index-1:index>=state.tabStops.length-1?0:index+1;return __assign({},state,{lastActionOrigin:"keyboard",selectedId:state.tabStops[newIndex].id});case ActionTypes.CLICKED:return __assign({},state,{lastActionOrigin:"mouse",selectedId:action.payload.id});default:return state}}!function(ActionTypes){ActionTypes.REGISTER="REGISTER",ActionTypes.UNREGISTER="UNREGISTER",ActionTypes.TAB_TO_PREVIOUS="TAB_TO_PREVIOUS",ActionTypes.TAB_TO_NEXT="TAB_TO_NEXT",ActionTypes.CLICKED="CLICKED"}(ActionTypes||(ActionTypes={}));var RovingTabIndexContext=react_default.a.createContext({state:{selectedId:null,lastActionOrigin:"mouse",tabStops:[]},dispatch:function(){}}),src_Provider=function(_a){var children=_a.children,_b=react_default.a.useReducer(reducer,{selectedId:null,lastActionOrigin:"mouse",tabStops:[]}),state=_b[0],dispatch=_b[1],context=react_default.a.useMemo(function(){return{state:state,dispatch:dispatch}},[state]);return react_default.a.createElement(RovingTabIndexContext.Provider,{value:context},children)},lodash_uniqueid=__webpack_require__(155),lodash_uniqueid_default=__webpack_require__.n(lodash_uniqueid);function useRovingTabIndex(domElementRef,disabled,id){var tabIndexId=react_default.a.useRef(id||lodash_uniqueid_default()("roving-tabindex_")),context=react_default.a.useContext(RovingTabIndexContext);react_default.a.useLayoutEffect(function(){if(!disabled)return context.dispatch({type:ActionTypes.REGISTER,payload:{id:tabIndexId.current,domElementRef:domElementRef}}),function(){context.dispatch({type:ActionTypes.UNREGISTER,payload:{id:tabIndexId.current}})}},[disabled]);var handleKeyDown=react_default.a.useCallback(function(event){"ArrowLeft"===event.key?(context.dispatch({type:ActionTypes.TAB_TO_PREVIOUS,payload:{id:tabIndexId.current}}),event.preventDefault()):"ArrowRight"===event.key&&(context.dispatch({type:ActionTypes.TAB_TO_NEXT,payload:{id:tabIndexId.current}}),event.preventDefault())},[]),handleClick=react_default.a.useCallback(function(){context.dispatch({type:ActionTypes.CLICKED,payload:{id:tabIndexId.current}})},[]),selected=!disabled&&tabIndexId.current===context.state.selectedId;return[selected?0:-1,selected&&"keyboard"===context.state.lastActionOrigin,handleKeyDown,handleClick]}function useFocusEffect(focused,ref){react_default.a.useLayoutEffect(function(){focused&&ref.current&&ref.current.focus()},[focused])}__webpack_require__.d(__webpack_exports__,"a",function(){return src_Provider}),__webpack_require__.d(__webpack_exports__,"c",function(){return useRovingTabIndex}),__webpack_require__.d(__webpack_exports__,"b",function(){return useFocusEffect})}},[[156,1,2]]]);
//# sourceMappingURL=main.16fad7606eec025c69e5.bundle.js.map